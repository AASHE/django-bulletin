{% comment %}
    This template displays one Post.
{% endcomment %}
{% load bootstrap3 %}

{% block content %}
  <div class="panel-group" id="post-accordion-{{ post.id }}">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#post-accordion"
             href="#collapsePost{{ post.id }}">
            {{ post.title }}
          </a>
        </h4>
      </div>
      <div id="collapsePost{{ post.id }}"
           class="panel-collapse collapse">
        <div class="panel-body">
          <p>
            {{ post.body }}
          </p>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block end_of_body %}
  <script "text/javascript">
    // Store and restore the state of all collapsable widgets:
    $(document).ready(function() {
      $('.collapse').on('hidden.bs.collapse', function() {
        if (this.id) {
         localStorage.removeItem(this.id);
        }
     }).on('shown.bs.collapse', function() {
        if (this.id) {
         localStorage[this.id] = 'hide';
        }
     }).each(function() {
        if (this.id && localStorage[this.id] === 'hide' ) {
          $(this).collapse('hide');
        }
      });
    });
  </script>
{% endblock %}
